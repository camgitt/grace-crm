# GRACE CRM Environment Variables
# Copy this file to .env.local and fill in your values
#
# For Vercel deployment, set these in the Vercel dashboard:
#   Settings → Environment Variables

# ===========================================
# FRONTEND VARIABLES (prefixed with VITE_)
# ===========================================

# --- Supabase (Database) - REQUIRED ---
# Get from: https://supabase.com/dashboard → Project Settings → API
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# --- Clerk (Authentication) - REQUIRED for production ---
# Get from: https://dashboard.clerk.com → API Keys
# Without Clerk, app blocks access in production
VITE_CLERK_PUBLISHABLE_KEY=pk_test_xxx

# --- Stripe (Payments) - Optional ---
# Get from: https://dashboard.stripe.com/apikeys
# Only the PUBLISHABLE key goes here; secret key is backend-only
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# --- Email sender config (non-secret) ---
VITE_EMAIL_FROM_ADDRESS=noreply@yourdomain.com
VITE_EMAIL_FROM_NAME=Grace Community Church

# --- Demo mode (development only) ---
# NEVER set to true in production!
# VITE_ENABLE_DEMO_MODE=false

# ===========================================
# BACKEND VARIABLES (server-side only)
# ===========================================
# These are used by the Express API server (api/_server.ts).
# On Vercel, set them in the dashboard alongside VITE_ vars.
# Locally, add them to .env.local (never commit real keys).

# --- Stripe secret key ---
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# --- Resend (Email service) ---
RESEND_API_KEY=re_xxx

# --- Twilio (SMS service) ---
TWILIO_ACCOUNT_SID=ACxxx
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_FROM_NUMBER=+1234567890

# --- Clerk (backend token verification) ---
CLERK_SECRET_KEY=sk_test_xxx

# --- Google Gemini (AI features) ---
GEMINI_API_KEY=your-gemini-api-key

# --- NewsAPI (Sunday Prep) ---
NEWS_API_KEY=your-newsapi-key

# --- Server config ---
PORT=3001
FRONTEND_URL=http://localhost:5173

# ===========================================
# DEPLOYMENT CHECKLIST
# ===========================================
# 1. Set all VITE_ vars in Vercel → Environment Variables
# 2. Set all backend vars in Vercel → Environment Variables
# 3. Run Supabase migrations (supabase/migrations/*.sql)
# 4. Enable Row Level Security on all Supabase tables
# 5. Configure Clerk auth (create app, set redirect URLs)
# 6. Configure Stripe webhooks → point to your-domain/webhooks
# 7. Verify: curl https://your-domain/api/health
